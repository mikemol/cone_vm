---
doc_revision: 1
reader_reintern: "Reader-only: re-intern if doc_revision changed since you last read this doc."
---

# in-20.md — **The Ledger Object and the Semantic Hyperlattice**

> **Status:** Draft (normative)
>
> **Audience:** Prism core developers, semantics reviewers
>
> **Prereqs:** `in-16.md`, `in-17.md`, `in-18.md`, `in-19.md`, `in/glossary.md`

---

## 0. Purpose

This document specifies the **Ledger** as a distinguished sheaf in the Prism topos and formalizes the **semantic hyperlattice** structure induced by CNF-2 interning and Cayley–Dickson recursion.

No new semantics are introduced. This document makes explicit structure already enforced by Prism execution.

---

## 1. The Ledger as a Distinguished Sheaf

Let:

```
L ∈ \mathbf{Sh}(C,J)
```

be the **Ledger sheaf**.

### 1.1 Sections

For a staging context \(κ\):

- `L(κ)` is the set of canonical Ledger nodes visible at \(κ\).
- Restriction maps erase later staging and locality but preserve identity.

### 1.2 Global Elements

The **canonical IDs** are the global elements:

```
Γ(L) = Hom(1, L)
```

These are exactly the interned, canonical IDs produced by Prism execution.

---

## 2. Internal Boolean Logic

Because \(\mathbf{Sh}(C,J)\) is a **Boolean Grothendieck topos**:

- the subobjects of any object form a Boolean algebra,
- in particular, `Sub(L)` is a Boolean algebra of semantic predicates.

Consequences:
- Law of Excluded Middle holds for all semantic propositions,
- partial or constructive ambiguity cannot survive sheafification.

---

## 3. Cayley–Dickson Structure

### 3.1 Pairing Constructor

The CD-pair opcode induces an internal morphism:

```
cd : L × L → L
```

interpreted as the Cayley–Dickson doubling step.

Properties:
- recursively generates higher-dimensional structure,
- preserves CNF-2 arity,
- canonicalized by interning.

### 3.2 Operator Lifting

All Prism operators lift via structural recursion on `cd`:

- depth-0: scalar Ledger IDs,
- depth-(n+1): componentwise application under `cd`.

No additional algebraic laws are assumed beyond those already enforced by GF(2).

---

## 4. The Semantic Hyperlattice

### 4.1 Refinement Preorder

Define a preorder on global elements:

```
x ⪯ y   ⇔   ∃ context C[·] such that q(C[x]) = y
```

Intuition: `x` semantically refines to `y` when `y` is `x` placed in a larger valid context.

### 4.2 Lattice Operations

Under this preorder:

- greatest lower bounds correspond to shared substructure (meet),
- least upper bounds correspond to Arena accumulation followed by `q` (join).

GF(2) cancellation ensures idempotence and commutativity of joins.

### 4.3 Hyperlattice Character

Because:
- lattice structure is recursive via Cayley–Dickson pairing,
- multiple orthogonal axes are internalized structurally,

`Γ(L)` forms a **semantic hyperlattice**:
- not flat,
- recursively generated,
- closed under Prism composition.

---

## 5. Relationship to Min(Prism)

For fixed bounds `(K,d,T)`:

- the restriction of `L` yields a finite hyperlattice,
- all semantic states are exhaustively enumerable (Min(Prism)).

By refinement (Appendix D of `in-18.md`), invariants proven over this finite hyperlattice lift to the unbounded Ledger.

---

## 6. Design Implications

- All semantic reasoning happens in `L`.
- Arena and hyperstrata are erased by `q` and do not influence `Γ(L)`.
- Extensions must preserve Booleanity and CD-structural recursion.

---

**End of in-20.md**